Информация базы данных
/var/lib/pgsql/17/data


/var/lib/pgsql/17/data/postgresql.conf — основной конфигурационный файл, содержащий значения параметров сервера;

/var/lib/pgsql/17/data/pg_hba.conf — файл, определяющий настройки доступа. 
В целях безопасности по умолчанию 
доступ разрешен только с локального компьютера и 
только от лица пользователя базы данных,
	имя которого совпадает с именем учетной записи операционной системы.

посмотреть каталог
sudo dir /var/lib/pgsql/17/data/

редактировать файл 
sudo nano /var/lib/pgsql/17/data/postgresql.conf

sudo nano /var/lib/pgsql/17/data/pg_hba.conf

выход из текстового редактора
Ctrl + X



Удаленное подключение
Сейчас клиент и СУБД находятся на одном и том же компьютере. 
Разумеется, можно установить PostgreSQL на выделенный сервер, 
а подключаться к нему с другой машины (например, с сервера приложений). 

В этом случае вместо localhost надо указать адрес вашего сервера СУБД. 
Но этого недостаточно: 
по умолчанию из соображений безопасности PostgreSQL 
допускает только локальные подключения.

Чтобы подключиться к базе данных снаружи, необходимо отредактировать два файла.

postgresql.conf — файл основных настроек (обычно располагается в каталоге баз данных).
	Нйдите строку, определяющую, какие сетевые интерфейсы слушает PostgreSQL:
	listen_addresses = 'localhost'
	замените ее на:
	listen_addresses = '*'

pg_hba.conf — файл с настройками аутентификации.
Когда клиент подключается к серверу, в этом файле выбирается 
	первая сверху строка, 
		соответствующая соединению по четырем параметрам: 
типу соединения, 
	имени базы данных, 
		имени пользователя, 
			IP-адресу клиента, 
				способ аутентификации 

# TYPE 	DATABASE 	USER 	ADDRESS 	METHOD
local 	all 		all 			peer

локальные подключения (local) 
к любой базе данных (all) 
от лица любого пользователя (all) 
должны проверяться методом peer.

Метод peer означает, что PostgreSQL запрашивает имя текущего пользователя у операционной системы и считает,
что ОС уже выполнила необходимую проверку (спросила у пользователя пароль). 

Поэтому в Linux-подобных операционных системах при подключении к локальному серверу 
ввод пароля обычно не требуется.

в Windows:
# TYPE 	DATABASE 	USER 		ADDRESS 	METHOD
host 	all 		all 		127.0.0.1/32 	md5
Она означает, что сетевые подключения (host) к любой
базе данных (all) от лица любого пользователя (all) 
с локального адреса (127.0.0.1) 
должны проверяться методом md5. 

md5 - подразумевает ввод пароля пользователем.

Чтобы дать пользователю app 
доступ к базе данных appdb
с любого адреса при указании верного пароля, 
допишите в конец pg_hba.conf
следующую строку:
	# TYPE 	DATABASE 	USER 		ADDRESS 	METHOD
	host 	appdb 		app 		all 		md5

После внесения изменений в конфигурационные файлы,
следует сконфигурировать сервер согласно новым настройкам:
postgres=# SELECT pg_reload_conf();

Подробнее о настройках аутентификации: 
postgrespro.ru/doc/client-authentication
